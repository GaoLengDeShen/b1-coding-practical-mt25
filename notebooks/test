import os
import sys
import pandas as pd


from uuv_mission.control import PDController
from uuv_mission.dynamic import Submarine, ClosedLoop, Mission


sub = Submarine()
controller = PDController(kp=0.15, kd=0.7)
closed_loop = ClosedLoop(sub, controller)

mission = Mission.from_csv('../data/mission.csv')  # You must implement this method in the Mission class

trajectory = closed_loop.simulate_with_random_disturbances(mission)
trajectory.plot_completed_mission(mission)
